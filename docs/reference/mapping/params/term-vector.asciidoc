[[term-vector]]
=== `term_vector`

项向量（Term vector）包含有关<<analysis,分析>>过程产生的词项（term）的信息，包括：

* 一组词项（term）。
* 每一个词项的位置（或序号）。
* 映射词项（term）的首字符和尾字符与原始字符串原点的偏移量。

可以存储这些项向量（Term vector），以便可以针对特定文档检索它们。

`term_vector` 设置接受以下参数：

[horizontal]
`no`::                      不存储项向量（term vector），默认。
`yes`::                     仅存储字段中的词项（term）。
`with_positions`::          存储词项（term）和位置。
`with_offsets`::            存储词项（term）和字符偏移量。
`with_positions_offsets`::  存储词项（term）、位置和字符偏移量。

fast vector highlighter 需要设置 `with_positions_offsets` 。项向量（term vector） API 可以检索存储的任何内容。

WARNING: 设置 `with_positions_offsets` 将使字段索引的大小加倍。

[source,js]
--------------------------------------------------
PUT my_index
{
  "mappings": {
    "_doc": {
      "properties": {
        "text": {
          "type":        "text",
          "term_vector": "with_positions_offsets"
        }
      }
    }
  }
}

PUT my_index/_doc/1
{
  "text": "Quick brown fox"
}

GET my_index/_search
{
  "query": {
    "match": {
      "text": "brown fox"
    }
  },
  "highlight": {
    "fields": {
      "text": {} <1>
    }
  }
}
--------------------------------------------------
// CONSOLE
<1> 默认情况下，fast vector highlighter 将用于 `text` 字段，因为项向量（term vector）已启用。

