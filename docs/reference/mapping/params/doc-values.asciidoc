[[doc-values]]
=== `doc_values`

大多数字段默认<<mapping-index,被索引>>，这使它们可以搜索。反向索引允许查询在唯一排序的词条（term）列表中查找搜索词条（term），并且从中可以立即访问包含该词条（term）的文档列表。

排序、聚合和访问脚本中的字段值需要不同的数据访问模式。我们需要能够查询文档并找到字段中的词条，而不是查找词条和查找文档。

Doc 值是磁盘上的数据结构，在文档索引时构建，这使得这种数据访问模式成为可能。
它们存储与 `_source` 相同的值，但是是以列为导向的方式，这样对于排序和聚合更有效。几乎所有字段类型都支持 Doc 值， __ `analyze` 字符串字段是值得注意的例外__。

支持 doc 值的所有字段都默认启用它们。如果你确定不需要对字段进行排序或聚合，或者从脚本访问字段值，则可以禁用 doc 值以节省磁盘空间：

[source,js]
--------------------------------------------------
PUT my_index
{
  "mappings": {
    "_doc": {
      "properties": {
        "status_code": { <1>
          "type":       "keyword"
        },
        "session_id": { <2>
          "type":       "keyword",
          "doc_values": false
        }
      }
    }
  }
}
--------------------------------------------------
// CONSOLE
<1> `status_code` 字段默认启用 `doc_values` 。
<2> `session_id` 已禁用 `doc_values` ，但仍可查询。

