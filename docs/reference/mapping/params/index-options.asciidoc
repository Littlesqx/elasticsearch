[[index-options]]
=== `index_options`

`index_options` 参数控制哪些信息将被添加到反向索引中，以用于搜索和高亮显示。它接受以下设置：

[horizontal]
`docs`::

    只有文档编号被索引。可以回答 __这个词条是否存在于这个字段？__

`freqs`::

    Doc 编号和词条频率被编入索引。词条频率用于对重复词条进行高于单个词条的评分。

`positions`::

    文档编号，词条频率和词条位置（或顺序）被编入索引。
    位置可用于<<query-dsl-match-query-phrase邻近或短语查询>> 。

`offsets`::

    文档编号，词条频率，位置以及开始和结束字符偏移（将词条映射回原始字符串）都被编入索引。
    偏移量被 <<unified-highlighter,unified highlighter>> 用作加速高亮。

WARNING: 对于 6.0.0 中的 <<number,Numeric 字段>>，不推荐使用 `index_options` 参数。

<<mapping-index,Analyzed>> 字符串字段默认使用 `positions` ，而其它全部字段默认使用 `docs` 。

[source,js]
--------------------------------------------------
PUT my_index
{
  "mappings": {
    "_doc": {
      "properties": {
        "text": {
          "type": "text",
          "index_options": "offsets"
        }
      }
    }
  }
}

PUT my_index/_doc/1
{
  "text": "Quick brown fox"
}

GET my_index/_search
{
  "query": {
    "match": {
      "text": "brown fox"
    }
  },
  "highlight": {
    "fields": {
      "text": {} <1>
    }
  }
}
--------------------------------------------------
// CONSOLE
<1> 默认情况下，因为 `offsets` 被索引， `text` 字段将使用 postings 进行高亮显示。
